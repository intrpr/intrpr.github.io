var pack = {"36000020":{"packcode":"36000020","packname":"Shipping Fee","packdesp":"Shipping Fee","packcost":9.95,"iscustom":false,"isship":true,"downloadtime":"7101"},"36000021":{"packcode":"36000021","packname":"Download","packdesp":"Download","packcost":19.99,"iscustom":false,"isship":false,"downloadtime":"7101"},"33010000":{"packcode":"33010000","packname":"Personal Valued Pack","packdesp":"","packcost":69.5,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":2,"packitemary":[{"itemcode":"4001","itemnumber":1},{"itemcode":"5001","itemnumber":1}]},"33020000":{"packcode":"33020000","packname":"Professional Value Pack","packdesp":"","packcost":129.5,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":4,"packitemary":[{"itemcode":"4002","itemnumber":1},{"itemcode":"5002","itemnumber":1},{"itemcode":"5275","itemnumber":1},{"itemcode":"5276","itemnumber":1}]},"33030000":{"packcode":"33030000","packname":"Professional Upgrade Pack","packdesp":"","packcost":60,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":4,"packitemary":[{"itemcode":"4003","itemnumber":1},{"itemcode":"5003","itemnumber":1}]},"33040000":{"packcode":"33040000","packname":"Educational Silver","packdesp":"","packcost":69.9,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":4,"packitemary":[{"itemcode":"4004","itemnumber":1},{"itemcode":"5004","itemnumber":1}]},"33050000":{"packcode":"33050000","packname":"Educational Gold","packdesp":"","packcost":129.9,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":4,"packitemary":[{"itemcode":"4005","itemnumber":1},{"itemcode":"5005","itemnumber":1},{"itemcode":"5275","itemnumber":1},{"itemcode":"5276","itemnumber":1}]},"33060000":{"packcode":"33060000","packname":"Mac Personal Valued Pack","packdesp":"","packcost":69.5,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":2,"packitemary":[{"itemcode":"4006","itemnumber":1},{"itemcode":"5006","itemnumber":1}]},"33070000":{"packcode":"33070000","packname":"Ultimate Value Pack","packdesp":"","packcost":199.5,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":6,"packitemary":[{"itemcode":"4007","itemnumber":1},{"itemcode":"5007","itemnumber":1},{"itemcode":"5275","itemnumber":1},{"itemcode":"5276","itemnumber":1},{"itemcode":"5237","itemnumber":1},{"itemcode":"5238","itemnumber":1}]},"33080000":{"packcode":"33080000","packname":"Education Platinum Value Pack","packdesp":"","packcost":199.5,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":6,"packitemary":[{"itemcode":"4008","itemnumber":1},{"itemcode":"5008","itemnumber":1},{"itemcode":"5275","itemnumber":1},{"itemcode":"5276","itemnumber":1},{"itemcode":"5237","itemnumber":1},{"itemcode":"5238","itemnumber":1}]},"33100000":{"packcode":"33100000","packname":"Personal-Professional Upgrade Pack","packdesp":"Upgrade Pack","packcost":60,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"4010","itemnumber":1},{"itemcode":"5010","itemnumber":1}]},"33110000":{"packcode":"33110000","packname":"Personal-Ultimate Upgrade Pack","packdesp":"Upgrade Pack","packcost":130,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"4011","itemnumber":1},{"itemcode":"5011","itemnumber":1}]},"33120000":{"packcode":"33120000","packname":"Professional-Ultimate Upgrade Pack","packdesp":"Upgrade Pack","packcost":70,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"4012","itemnumber":1},{"itemcode":"5012","itemnumber":1}]},"33130000":{"packcode":"33130000","packname":"Educational Silver-Gold Upgrade Pack","packdesp":"Upgrade Pack","packcost":60,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"4013","itemnumber":1},{"itemcode":"5013","itemnumber":1}]},"33140000":{"packcode":"33140000","packname":"Educational Silver-Platinum Upgrade Pack","packdesp":"Upgrade Pack","packcost":130,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"4014","itemnumber":1},{"itemcode":"5014","itemnumber":1}]},"33150000":{"packcode":"33150000","packname":"Educational Gold-Platinum Upgrade Pack","packdesp":"Upgrade Pack","packcost":70,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"4015","itemnumber":1},{"itemcode":"5015","itemnumber":1}]},"33200000":{"packcode":"33200000","packname":"Mac Professional Value Pack","packdesp":"","packcost":129.5,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":4,"packitemary":[{"itemcode":"4020","itemnumber":1},{"itemcode":"5020","itemnumber":1},{"itemcode":"5251","itemnumber":1},{"itemcode":"5252","itemnumber":1}]},"33210000":{"packcode":"33210000","packname":"Mac Ultimate Value Pack","packdesp":"","packcost":199.5,"iscustom":false,"isship":false,"downloadtime":"7101","maxselectable":6,"packitemary":[{"itemcode":"4021","itemnumber":1},{"itemcode":"5021","itemnumber":1},{"itemcode":"5251","itemnumber":1},{"itemcode":"5252","itemnumber":1},{"itemcode":"5243","itemnumber":1},{"itemcode":"5244","itemnumber":1}]},"33220000":{"packcode":"33220000","packname":"Mac Personal-Professional Upgrade Pack","packdesp":"Upgrade Pack","packcost":60,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"4022","itemnumber":1},{"itemcode":"5022","itemnumber":1}]},"33230000":{"packcode":"33230000","packname":"Mac Personal-Ultimate Upgrade Pack","packdesp":"Upgrade Pack","packcost":130,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"4023","itemnumber":1},{"itemcode":"5023","itemnumber":1}]},"33240000":{"packcode":"33240000","packname":"Mac Professional-Ultimate Upgrade Pack","packdesp":"Upgrade Pack","packcost":70,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"4024","itemnumber":1},{"itemcode":"5024","itemnumber":1}]},"33520001":{"packcode":"33520001","packname":"Mike16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5201","itemnumber":1}]},"33520002":{"packcode":"33520002","packname":"Crystal16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5202","itemnumber":1}]},"33520003":{"packcode":"33520003","packname":"Mel16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5203","itemnumber":1}]},"33520004":{"packcode":"33520004","packname":"Julia16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5204","itemnumber":1}]},"33520005":{"packcode":"33520005","packname":"Ray16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5205","itemnumber":1}]},"33520006":{"packcode":"33520006","packname":"Lauren16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5206","itemnumber":1}]},"33520007":{"packcode":"33520007","packname":"Rich16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5207","itemnumber":1}]},"33520008":{"packcode":"33520008","packname":"Claire16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5208","itemnumber":1}]},"33520009":{"packcode":"33520009","packname":"Charles16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5209","itemnumber":1}]},"33520010":{"packcode":"33520010","packname":"Audrey16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5210","itemnumber":1}]},"33520011":{"packcode":"33520011","packname":"Alain16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5211","itemnumber":1}]},"33520012":{"packcode":"33520012","packname":"Juliette16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5212","itemnumber":1}]},"33520013":{"packcode":"33520013","packname":"Reiner16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5213","itemnumber":1}]},"33520014":{"packcode":"33520014","packname":"Klara16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5214","itemnumber":1}]},"33520015":{"packcode":"33520015","packname":"Alberto16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5215","itemnumber":1}]},"33520016":{"packcode":"33520016","packname":"Rosa16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5216","itemnumber":1}]},"33520017":{"packcode":"33520017","packname":"Paul16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5217","itemnumber":1}]},"33520018":{"packcode":"33520018","packname":"Kate16k","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5218","itemnumber":1}]},"33520019":{"packcode":"33520019","packname":"Arabic Salma","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5219","itemnumber":1}]},"33520020":{"packcode":"33520020","packname":"Arabic Youssef","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5220","itemnumber":1}]},"33520054":{"packcode":"33520054","packname":"Arabic Mehdi","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5254","itemnumber":1}]},"33520021":{"packcode":"33520021","packname":"British Graham","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5221","itemnumber":1}]},"33520022":{"packcode":"33520022","packname":"British Lucy","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5222","itemnumber":1}]},"33520023":{"packcode":"33520023","packname":"British Peter","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5223","itemnumber":1}]},"33520024":{"packcode":"33520024","packname":"British Rachel","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5224","itemnumber":1}]},"33520025":{"packcode":"33520025","packname":"CanadianFrench Louise","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5225","itemnumber":1}]},"33520026":{"packcode":"33520026","packname":"French Alice","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5226","itemnumber":1}]},"33520027":{"packcode":"33520027","packname":"French Bruno","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5227","itemnumber":1}]},"33520028":{"packcode":"33520028","packname":"French Claire","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5228","itemnumber":1}]},"33520029":{"packcode":"33520029","packname":"French Julie","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5229","itemnumber":1}]},"33520030":{"packcode":"33520030","packname":"German Klaus","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5230","itemnumber":1}]},"33520031":{"packcode":"33520031","packname":"Italian Chiara","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5231","itemnumber":1}]},"33520032":{"packcode":"33520032","packname":"Italian Vittorio","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5232","itemnumber":1}]},"33520033":{"packcode":"33520033","packname":"Spanish Maria","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5233","itemnumber":1}]},"33520034":{"packcode":"33520034","packname":"Swedish Emma","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5234","itemnumber":1}]},"33520035":{"packcode":"33520035","packname":"Swedish Erik","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5235","itemnumber":1}]},"33520036":{"packcode":"33520036","packname":"USEnglish Laura","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5236","itemnumber":1}]},"33520037":{"packcode":"33520037","packname":"USEnglish Heather","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5237","itemnumber":1}]},"33520038":{"packcode":"33520038","packname":"USEnglish Ryan","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5238","itemnumber":1}]},"33520039":{"packcode":"33520039","packname":"USSpanish Rosa","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5239","itemnumber":1}]},"33520040":{"packcode":"33520040","packname":"German Sarah","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5240","itemnumber":1}]},"33520041":{"packcode":"33520041","packname":"British Graham for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5241","itemnumber":1}]},"33520042":{"packcode":"33520042","packname":"British Lucy for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5242","itemnumber":1}]},"33520043":{"packcode":"33520043","packname":"British Peter for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5243","itemnumber":1}]},"33520044":{"packcode":"33520044","packname":"British Rachel for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5244","itemnumber":1}]},"33520045":{"packcode":"33520045","packname":"French Alice for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5245","itemnumber":1}]},"33520046":{"packcode":"33520046","packname":"French Bruno for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5246","itemnumber":1}]},"33520047":{"packcode":"33520047","packname":"French Claire for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5247","itemnumber":1}]},"33520048":{"packcode":"33520048","packname":"French Julie for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5248","itemnumber":1}]},"33520049":{"packcode":"33520049","packname":"Spanish Maria for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5249","itemnumber":1}]},"33520050":{"packcode":"33520050","packname":"USEnglish Laura for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5250","itemnumber":1}]},"33520051":{"packcode":"33520051","packname":"USEnglish Heather for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5251","itemnumber":1}]},"33520052":{"packcode":"33520052","packname":"USEnglish Ryan for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5252","itemnumber":1}]},"33520053":{"packcode":"33520053","packname":"USSpanish Rosa for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5253","itemnumber":1}]},"33520055":{"packcode":"33520055","packname":"USEnglish Tracy","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5255","itemnumber":1}]},"33520056":{"packcode":"33520056","packname":"Japanese Sakura","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5256","itemnumber":1}]},"33520057":{"packcode":"33520057","packname":"Chinese Lulu","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5257","itemnumber":1}]},"33520058":{"packcode":"33520058","packname":"Portuguese Celia","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5258","itemnumber":1}]},"33520059":{"packcode":"33520059","packname":"British Harry","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5259","itemnumber":1}]},"33520060":{"packcode":"33520060","packname":"British Rosie","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5260","itemnumber":1}]},"33520061":{"packcode":"33520061","packname":"USEnglish Ella","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5261","itemnumber":1}]},"33520062":{"packcode":"33520062","packname":"USEnglish Josh","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5262","itemnumber":1}]},"33520063":{"packcode":"33520063","packname":"USEnglish Tracy for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5263","itemnumber":1}]},"33520064":{"packcode":"33520064","packname":"USEnglish Will for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5264","itemnumber":1}]},"33520065":{"packcode":"33520065","packname":"German Andreas for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5265","itemnumber":1}]},"33520066":{"packcode":"33520066","packname":"German Julia for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5266","itemnumber":1}]},"33520067":{"packcode":"33520067","packname":"German Klaus for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5267","itemnumber":1}]},"33520068":{"packcode":"33520068","packname":"German Sarah for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5268","itemnumber":1}]},"33520069":{"packcode":"33520069","packname":"Italian Chiara for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5269","itemnumber":1}]},"33520070":{"packcode":"33520070","packname":"Italian Vittorio for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5270","itemnumber":1}]},"33520071":{"packcode":"33520071","packname":"Spanish Antonio for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5271","itemnumber":1}]},"33520072":{"packcode":"33520072","packname":"Spanish Ines for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5272","itemnumber":1}]},"33520073":{"packcode":"33520073","packname":"Swedish Emma for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5273","itemnumber":1}]},"33520074":{"packcode":"33520074","packname":"Swedish Erik","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5274","itemnumber":1}]},"33520075":{"packcode":"33520075","packname":"USEnglish Rod","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5275","itemnumber":1}]},"33520076":{"packcode":"33520076","packname":"USEnglish Sharon","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5276","itemnumber":1}]},"33520077":{"packcode":"33520077","packname":"USEnglish Rod for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5277","itemnumber":1}]},"33520078":{"packcode":"33520078","packname":"USEnglish Sharon for Mac","packdesp":"Voice","packcost":39.5,"iscustom":false,"isship":false,"downloadtime":"7101","packitemary":[{"itemcode":"5278","itemnumber":1}]},"34010000":{"packcode":"34010000","packname":"School Packages 1","packdesp":"With 2 US Voices and 4 US voices","packcost":499,"iscustom":true,"isship":true,"downloadtime":"7101","packitemary":[{"itemcode":"4002","itemnumber":1},{"itemcode":"4001","itemnumber":8},{"itemcode":"5002","itemnumber":1},{"itemcode":"5001","itemnumber":1},{"itemcode":"5275","itemnumber":1},{"itemcode":"5276","itemnumber":1},{"itemcode":"5237","itemnumber":1},{"itemcode":"5238","itemnumber":1}]},"34020000":{"packcode":"34020000","packname":"School Packages 2","packdesp":"With 2 US Voices and 4 US voices","packcost":699,"iscustom":true,"isship":true,"downloadtime":"7101","packitemary":[{"itemcode":"4007","itemnumber":1},{"itemcode":"4002","itemnumber":1},{"itemcode":"4001","itemnumber":10},{"itemcode":"5007","itemnumber":1},{"itemcode":"5002","itemnumber":1},{"itemcode":"5001","itemnumber":1},{"itemcode":"5275","itemnumber":1},{"itemcode":"5276","itemnumber":1},{"itemcode":"5237","itemnumber":1},{"itemcode":"5238","itemnumber":1}]},"34030000":{"packcode":"34030000","packname":"School Packages 3","packdesp":"With 2 US Voices and 4 US voices","packcost":999,"iscustom":true,"isship":true,"downloadtime":"7101","packitemary":[{"itemcode":"4007","itemnumber":1},{"itemcode":"4002","itemnumber":2},{"itemcode":"4001","itemnumber":15},{"itemcode":"5007","itemnumber":1},{"itemcode":"5002","itemnumber":1},{"itemcode":"5001","itemnumber":1},{"itemcode":"5275","itemnumber":1},{"itemcode":"5276","itemnumber":1},{"itemcode":"5237","itemnumber":1},{"itemcode":"5238","itemnumber":1}]},"34040000":{"packcode":"34040000","packname":"School Packages 4","packdesp":"With 2 US Voices and 4 US voices","packcost":1999,"iscustom":true,"isship":true,"downloadtime":"7101","packitemary":[{"itemcode":"4007","itemnumber":2},{"itemcode":"4002","itemnumber":5},{"itemcode":"4001","itemnumber":35},{"itemcode":"5007","itemnumber":1},{"itemcode":"5002","itemnumber":1},{"itemcode":"5001","itemnumber":1},{"itemcode":"5275","itemnumber":1},{"itemcode":"5276","itemnumber":1},{"itemcode":"5237","itemnumber":1},{"itemcode":"5238","itemnumber":1}]},"34050000":{"packcode":"34050000","packname":"School Packages 1","packdesp":"With 2 US Voices and 4 US voices","packcost":499,"iscustom":true,"isship":true,"downloadtime":"7101","packitemary":[{"itemcode":"4020","itemnumber":1},{"itemcode":"4006","itemnumber":8},{"itemcode":"5020","itemnumber":1},{"itemcode":"5006","itemnumber":1},{"itemcode":"5251","itemnumber":1},{"itemcode":"5252","itemnumber":1},{"itemcode":"5243","itemnumber":1},{"itemcode":"5244","itemnumber":1}]},"34060000":{"packcode":"34060000","packname":"School Packages 2","packdesp":"With 2 US Voices and 4 US voices","packcost":699,"iscustom":true,"isship":true,"downloadtime":"7101","packitemary":[{"itemcode":"4021","itemnumber":1},{"itemcode":"4020","itemnumber":1},{"itemcode":"4006","itemnumber":10},{"itemcode":"5021","itemnumber":1},{"itemcode":"5020","itemnumber":1},{"itemcode":"5006","itemnumber":1},{"itemcode":"5251","itemnumber":1},{"itemcode":"5252","itemnumber":1},{"itemcode":"5243","itemnumber":1},{"itemcode":"5244","itemnumber":1}]},"34070000":{"packcode":"34070000","packname":"School Packages 3","packdesp":"With 2 US Voices and 4 US voices","packcost":999,"iscustom":true,"isship":true,"downloadtime":"7101","packitemary":[{"itemcode":"4021","itemnumber":1},{"itemcode":"4020","itemnumber":2},{"itemcode":"4006","itemnumber":15},{"itemcode":"5021","itemnumber":1},{"itemcode":"5020","itemnumber":1},{"itemcode":"5006","itemnumber":1},{"itemcode":"5251","itemnumber":1},{"itemcode":"5252","itemnumber":1},{"itemcode":"5243","itemnumber":1},{"itemcode":"5244","itemnumber":1}]},"34080000":{"packcode":"34080000","packname":"School Packages 4","packdesp":"With 2 US Voices and 4 US voices","packcost":1999,"iscustom":true,"isship":true,"downloadtime":"7101","packitemary":[{"itemcode":"4021","itemnumber":2},{"itemcode":"4020","itemnumber":5},{"itemcode":"4006","itemnumber":35},{"itemcode":"5021","itemnumber":1},{"itemcode":"5020","itemnumber":1},{"itemcode":"5006","itemnumber":1},{"itemcode":"5251","itemnumber":1},{"itemcode":"5252","itemnumber":1},{"itemcode":"5243","itemnumber":1},{"itemcode":"5244","itemnumber":1}]}};

var cart = [];
var maxselectable = 0;
var isship = false;

var selectablenum = 0;
var ispayviapaypal = true;

function saveCart(){
	var recursiveEncoded = JSON.stringify(cart);
	writeCookie("cart",recursiveEncoded);
	if (isship){
		writeCookie("cart_isship","true");
	}else {
		writeCookie("cart_isship","false");
	}
}

$(function(){
	//Cart页面显示事件
	$(document).ready(function(e) {
		var tmpcartstr = readCookie("cart");
		if(tmpcartstr!=""){
			cart = JSON.parse(readCookie("cart"));
		}
		var tmpcart_isshipstr = readCookie("cart_isship");
		var tmpcart_ispayviapaypalstr = readCookie("cart_ispayviapaypal");
		if(tmpcartstr!="" && tmpcart_isshipstr == "true"){
			isship = true;
		}
		//writeCookie("code","4001");
		//alert(readCookie("cart"));
		var tmpproductcode = getParameterByName("product");
		var tmpproductvoice1 = getParameterByName("voice1");
		var tmpproductvoice2 = getParameterByName("voice2");
		var tmpaddcode = getParameterByName("code");
		var tmpoldcartaddcode = getParameterByName("addcode");
		var tmpoldcartop = getParameterByName("op");
		if (tmpproductcode != ""){
			tmpaddcode =  tmpproductcode.substr(0,4) + tmpproductvoice1 + tmpproductvoice2;
		}
		if (tmpoldcartop == "add" && tmpoldcartaddcode!=""){
			tmpaddcode = tmpoldcartaddcode;
		}
		if(tmpaddcode == "36000020"){
			isship = true;
			tmpaddcode = "";
		}
		var tmpiscartfind = false;
		for(var i=0;i<cart.length;i++){
			if(cart[i].itemcode == tmpaddcode) {
				tmpiscartfind = true;
			}
		}
		if(!tmpiscartfind && tmpaddcode!=""){
			var tmpcartindex = cart.length
			cart[tmpcartindex] = {itemcode:tmpaddcode,num:1};
		}
		
		for(var i=0;i<cart.length;i++){
			if(typeof(pack[cart[i].itemcode]) == "undefined"){
				var tmpproduct = cart[i].itemcode.substr(0,4) + "0000";
				var tmpvoice1 = "335200" + cart[i].itemcode.substr(4,2);
				var tmpvoice2 = "335200" + cart[i].itemcode.substr(6,2);
				pack[cart[i].itemcode] = {
					packcode:cart[i].itemcode,
					packname:pack[tmpproduct].packname,
					packdesp:pack[tmpvoice1].packname + " and " + pack[tmpvoice2].packname,
					packcost:pack[tmpproduct].packcost,
					iscustom:pack[tmpproduct].iscustom,
					isship:pack[tmpproduct].isship,
					downloadtime:pack[tmpproduct].downloadtime,
					maxselectable:pack[tmpproduct].maxselectable,
					packitemary:pack[tmpproduct].packitemary.slice(0)
					};
				for(var m=0;m<pack[tmpvoice1].packitemary.length;m++){
					pack[cart[i].itemcode].packitemary.push(pack[tmpvoice1].packitemary[m]);
				}
				for(var m=0;m<pack[tmpvoice2].packitemary.length;m++){
					pack[cart[i].itemcode].packitemary.push(pack[tmpvoice2].packitemary[m]);
				}
			}
		}
		//console.log(cart);
		showCart();
    });
	
//	//增加数量点击事件
//	$('.quantity .plus').click(function(){
//		var _thisNum = $('.quantity .num').val();
//		_thisNum++;
//		$('.quantity .num').val(_thisNum);
//	});
//	
//	//减少数量点击事件
//	$('.quantity .minus').click(function(){
//		var _thisNum = $('.quantity .num').val();
//		if(_thisNum <= 0){
//			return false;
//		}else{
//			_thisNum--;
//			$('.quantity .num').val(_thisNum);
//		}
//	});
	
//	//播放按钮点击效果
//	$('.step02Wrap .btnPlay').click(function(){
//		if($(this).hasClass('active')){
//			$(this).removeClass('active');
//			$(this).attr('src', 'images/v1.png');
//		}else{
//			$(this).addClass('active');
//			$(this).attr('src', 'images/btn_stop2_gray.gif');
//		}
//	});
//	
//	//多选点击效果
//	$('.step02Wrap .radioPic').click(function(){
//		if($(this).hasClass('active')){
//			if (selectablenum>0){selectablenum--;}
//			$(this).removeClass('active');
//			$(this).attr('src', 'images/checkbox_unchecked.png');
//		}else{
//			if(selectablenum<maxselectable){
//				$(this).addClass('active');
//				$(this).attr('src', 'images/checkbox_checked.png');
//				selectablenum++;
//			}
//		}
//	});
	
	//单选点击效果
	$('.step03Wrap .radioPic, .step04Wrap .radioPic').click(function(){
		if($(this).hasClass('active')){
			return false;
		}
		$(this).addClass('active').parent().siblings().find('.radioPic').removeClass('active').attr('src', 'images/radio_unchecked.png');
		$(this).attr('src', 'images/radio_checked.png');
		switch($(this).attr("ref")){
			case "ship_no":isship = false;$('.step03Wrap .money').html("USD $0");showtotalcost();break;
			case "ship_yes":isship = true;$('.step03Wrap .money').html("USD $9.95");showtotalcost();break;
			case "pay_paypal":ispayviapaypal=true;break;
			case "pay_2co":ispayviapaypal=false;break;
		}
	});
	
	//结账点击效果
	$('.step03').click(function(){
		var checkoutary = [];
		for(var i=0;i<cart.length;i++){
			var tmpitemary = pack[cart[i].itemcode].packitemary;
			for(var m=0;m<tmpitemary.length;m++){
				var isfind = false;
				for(var k=0;k<checkoutary.length;k++){
					if (checkoutary[k].itemcode == tmpitemary[m].itemcode){
						checkoutary[k].itemnumber += tmpitemary[m].itemnumber * cart[i].num;
						isfind = true;
						continue;
					}
				}
				if (!isfind) {
					var tmpindex = checkoutary.length;
					checkoutary[tmpindex] = {};
					checkoutary[tmpindex].itemcode = tmpitemary[m].itemcode;
					checkoutary[tmpindex].itemnumber = tmpitemary[m].itemnumber * cart[i].num;
				}
			}
		}
		var iks = "";
		iks += "n=" + checkoutary.length;
		if (isship){
			iks += "!s=s";
		}else {
			iks += "!s=n";
		}
		iks += "!d=7101!i=";
		for(var i=0;i<checkoutary.length;i++){
			iks += checkoutary[i].itemcode + "#";
			if (checkoutary[i].itemcode < 5000 || checkoutary[i].itemcode > 6000){
				iks += checkoutary[i].itemnumber + "_";
			}else{
				iks +=  "1_";
			}

		}
		if(ispayviapaypal){
			for(var i=0;i<cart.length;i++){
				$("#cartshowfrm_paypalcheckout").append(createHidenInput("item_number_" + (i+1),pack[cart[i].itemcode].packcode));
				$("#cartshowfrm_paypalcheckout").append(createHidenInput("item_name_" + (i+1),pack[cart[i].itemcode].packname));
				$("#cartshowfrm_paypalcheckout").append(createHidenInput("quantity_" + (i+1),cart[i].num));
				$("#cartshowfrm_paypalcheckout").append(createHidenInput("amount_" + (i+1),pack[cart[i].itemcode].packcost));
			}
			if(isship){
				$("#cartshowfrm_paypalcheckout").append(createHidenInput("item_number_" + (cart.length+1),36000020));
				$("#cartshowfrm_paypalcheckout").append(createHidenInput("item_name_" + (cart.length+1),"Shipping Fee"));
				$("#cartshowfrm_paypalcheckout").append(createHidenInput("quantity_" + (cart.length+1),"1"));
				$("#cartshowfrm_paypalcheckout").append(createHidenInput("amount_" + (cart.length+1),"9.95"));
			}
			$("#cartshowfrm_paypalcheckout input[name='custom']").val(iks);
			$("#cartshowfrm_paypalcheckout").submit();
		}else{
			var tmptotalcost = 0;
			for(var i=0;i<cart.length;i++){
				tmptotalcost += cart[i].num * pack[cart[i].itemcode].packcost;
			}
			if(isship){
				tmptotalcost += 9.95
			}
			$("#cartshowfrm_2cocheckout input[name='custom']").val(iks);
			$("#cartshowfrm_2cocheckout input[name='total']").val(tmptotalcost);
			$("#cartshowfrm_2cocheckout").submit();
		}
	});
})

function createHidenInput(name,value){
	newinput = document.createElement("input");
	newinput.setAttribute("type", "hidden");
	newinput.setAttribute("name", name);
	newinput.setAttribute("value", value);
	return newinput;
}
function showtotalcost(){
	var tmptotalcost = 0;
	for(var i=0;i<cart.length;i++){
		tmptotalcost += cart[i].num * pack[cart[i].itemcode].packcost;
	}
	if(isship){
		tmptotalcost += 9.95
	}
	$(".totalMoney").html('<span class="text-primary">Total</span> USD $'+tmptotalcost);
	saveCart();
}

function showCart(){
	maxselectable = 0;
	$("#container_step01").html("");
	for(var i=0;i<cart.length;i++){
		var tmpitem = pack[cart[i].itemcode];
		if (tmpitem.maxselectable > maxselectable) {
			maxselectable = tmpitem.maxselectable;
		}
		var cartrow = $("#csample_step01").clone();
		cartrow.show();
		cartrow.attr("id", "cart_" + cart[i].itemcode);
		cartrow.find('.txt').html('NaturalReader '+tmpitem.packname+'<br /><span class="text-primary"></span>');
		cartrow.find('.text-primary').html(tmpitem.packdesp);
		cartrow.find('.quantity .num').val(cart[i].num);
		cartrow.find('.money').html("USD $" + cart[i].num * pack[cart[i].itemcode].packcost);
		//增加数量点击事件
		cartrow.find('.quantity .plus').click(cart[i].itemcode, function(e){
			for(var m=0;m<cart.length;m++){
				if(cart[m].itemcode == e.data){
					cart[m].num++;
					$("#cart_" + e.data +' .quantity .num').val(cart[m].num);
					$("#cart_" + e.data +' .money').html("USD $" + cart[m].num * pack[cart[m].itemcode].packcost);
					showtotalcost();
				}
			}	
		});
		
		//减少数量点击事件
		cartrow.find('.quantity .minus').click(cart[i].itemcode, function(e){
			for(var m=0;m<cart.length;m++){
				if(cart[m].itemcode == e.data){
					if(cart[m].num <= 1){
						return false;
					}else{
						cart[m].num--;
						$("#cart_" + e.data +' .quantity .num').val(cart[m].num);
						$("#cart_" + e.data +' .money').html("USD $" + cart[m].num * pack[cart[m].itemcode].packcost);
						showtotalcost();
					}
				}
			}
		});
		
		//删除点击事件
		cartrow.find('.remove').click(i, function(e){
			cart.splice(e.data,1);
			showtotalcost();
			showCart();
		});
		
		$("#container_step01").append(cartrow);
	}
	
	$('.step03Wrap .radioPic').each(function(){
		if(isship){
			if ($(this).attr("ref")=="ship_yes"){
				$(this).addClass('active').parent().siblings().find('.radioPic').removeClass('active').attr('src', 'images/radio_unchecked.png');
				$(this).attr('src', 'images/radio_checked.png');
				$('.step03Wrap .money').html("USD $9.95");
			}
		}else{
			if ($(this).attr("ref")=="ship_no"){
				$(this).addClass('active').parent().siblings().find('.radioPic').removeClass('active').attr('src', 'images/radio_unchecked.png');
				$(this).attr('src', 'images/radio_checked.png');
				$('.step03Wrap .money').html("USD $0");
			}
		}
	});

	//$(".cartTit.step02").html("Please select " + maxselectable + " local voices from below:");
	showtotalcost();
}